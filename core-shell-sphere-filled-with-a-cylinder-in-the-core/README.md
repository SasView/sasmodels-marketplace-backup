# Core shell sphere filled with a cylinder in the core

Orientationally averaged form factor for a monodisperse spherical particle with a core-shell sphere structure, filled with a circular cylinder in its center. Output: P(q) = \frac{\text{scale}}{V_{sph}} \int_0^{\pi/2} f^2(q,\alpha) \sin\alpha\ d\alpha + \text{background} where f(q,\alpha) = ( sld_{cyl}-sld_{sph,c} ) * V_{cyl} f_cyl(q,\alpha) + ( sld_{sph,c}-sld_{sph,sh} ) * V_{sph,c} f_sph( q*R_{sph,c} ) + ( sld_{sph,sh}-sld_{solv} ) * V_{sph} f_sph( q*(R_{sph,c}+d_{sph,sh}) ) where f_cyl(q,alpha) = j_0( q*L_{cyl}*\cos(\alpha)/2 ) * 2J1x( q*R_{cyl}\sin(\alpha) ) f_sph(x) = 3 * \frac{ \sin(x)-x\cos(x) }{ x^3 } where j_0(x) = \sin(x) / x 2J1x(x) = 2 * J_1(x) / x , where $J_1$ is the first order Bessel function V_{cyl} = \pi R_{cyl}^2 L_{cyl} V_{sph,c} = 4\pi/3 R_{sph,c}^3 V_{sph} = 4\pi/3 (R_{sph,c}+d_{sph,sh})^3 Parameters: scale = scaling factor, volume fraction of particles scale phi ~ N V_{sph} / V_{irr}, with N / V_{irr} being the number density of particles in the irradiated volume background = const. background R_{sph,c} = core radius of sphere d_{sph,sh} = shell thickness of sphere NB: R_{sph,c} + d_{sph,sh} = radius of whole sphere R_{cyl} = radius of cylinder L_{cyl} = length of cylinder V_{sph} = volume of whole sphere including shell V_{sph,c} = volume of sphere core V_{cyl} = volume of cylinder sld_{sph,c} = scattering length density of core of sphere sld_{sph,sh} = scattering length density of shell of sphere sld_{cyl} = scattering length density of cylinder inside the core sld_{solv} = scattering length density of solvent To use the model: -put the python and C file into the .sasview/plugin_models/ directory for plugin models -create the .sasview/plugin_models/lib/ directory and put the following 4 files from sasmodels/models/lib/ (github) therein: gauss76.c polevl.c sas_3j1x_x.c sas_J1.c -the model can be verified by adjusting the SLDs of sph-core, sph-shell and cyl to match the the intensity from models of a core-shell sphere or a cylinder Literature: -Same as for sphere and cylinders. -A more general model of a core-shell ellipsoid with a stack of (flat) cylinders in the core has been described by S. Maric et al (2017) https://doi.org/10.1021/acsnano.6b08089

Orientationally averaged form factor for a monodisperse spherical particle with a core-shell sphere structure, filled with a circular cylinder in its center.

Output: P(q) = \frac{\text{scale}}{V_{sph}} \int_0^{\pi/2} f^2(q,\alpha) \sin\alpha\ d\alpha + \text{background}

where f(q,\alpha) = ( sld_{cyl}-sld_{sph,c} ) * V_{cyl} f_cyl(q,\alpha) + ( sld_{sph,c}-sld_{sph,sh} ) * V_{sph,c} f_sph( q*R_{sph,c} ) + ( sld_{sph,sh}-sld_{solv} ) * V_{sph} f_sph( q*(R_{sph,c}+d_{sph,sh}) )

where f_cyl(q,alpha) = j_0( q*L_{cyl}*\cos(\alpha)/2 ) * 2J1x( q*R_{cyl}\sin(\alpha) ) f_sph(x) = 3 * \frac{ \sin(x)-x\cos(x) }{ x^3 }

where j_0(x) = \sin(x) / x 2J1x(x) = 2 * J_1(x) / x , where $J_1$ is the first order Bessel function V_{cyl} = \pi R_{cyl}^2 L_{cyl} V_{sph,c} = 4\pi/3 R_{sph,c}^3 V_{sph} = 4\pi/3 (R_{sph,c}+d_{sph,sh})^3

Parameters: scale = scaling factor, volume fraction of particles scale phi ~ N V_{sph} / V_{irr}, with N / V_{irr} being the number density of particles in the irradiated volume background = const. background R_{sph,c} = core radius of sphere d_{sph,sh} = shell thickness of sphere NB: R_{sph,c} + d_{sph,sh} = radius of whole sphere R_{cyl} = radius of cylinder L_{cyl} = length of cylinder V_{sph} = volume of whole sphere including shell V_{sph,c} = volume of sphere core V_{cyl} = volume of cylinder sld_{sph,c} = scattering length density of core of sphere sld_{sph,sh} = scattering length density of shell of sphere sld_{cyl} = scattering length density of cylinder inside the core sld_{solv} = scattering length density of solvent

To use the model: -put the python and C file into the .sasview/plugin_models/ directory for plugin models -create the .sasview/plugin_models/lib/ directory and put the following 4 files from sasmodels/models/lib/ (github) therein: gauss76.c polevl.c sas_3j1x_x.c sas_J1.c -the model can be verified by adjusting the SLDs of sph-core, sph-shell and cyl to match the the intensity from models of a core-shell sphere or a cylinder

Literature: -Same as for sphere and cylinders. -A more general model of a core-shell ellipsoid with a stack of (flat) cylinders in the core has been described by S. Maric et al (2017) https://doi.org/10.1021/acsnano.6b08089

Source: https://marketplace.sasview.org/models/113/
